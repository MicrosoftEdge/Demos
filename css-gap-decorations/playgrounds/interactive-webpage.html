<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CSS Gap Decorations Demo</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    :root {
      --primary: #2c3e50;
      --secondary: #3498db;
      --accent: #e67e22;
      --light-bg: #ecf0f1;
      --card-bg: #ffffff;
      --grid-rule-color: teal;
      --flex-row-rule-color: crimson;
      --flex-col-rule-color: teal;
    }
    *, *::before, *::after { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Montserrat', sans-serif;
      background: var(--light-bg);
      color: var(--primary);
      line-height: 1.6;
    }
    header {
      text-align: center;
      padding: 2rem 1rem;
      background: var(--secondary);
      color: #fff;
    }
    header h1 {
      margin: 0;
      font-size: 2.5rem;
      letter-spacing: 1px;
    }
    .intro {
      max-width: 800px;
      margin: 1.5rem auto;
      padding: 1rem 1.5rem;
      background: var(--card-bg);
      border-radius: 6px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      font-size: 1rem;
    }
    .intro a {
      color: var(--secondary);
      text-decoration: none;
      font-weight: 600;
    }
    section {
      width: 95%;
      margin: 3rem auto;
      padding: 2rem;
      background: var(--card-bg);
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    h2 {
      text-align: center;
      font-size: 1.75rem;
      margin-bottom: 1rem;
      color: var(--accent);
      position: relative;
    }
    h2::after {
      content: '';
      display: block;
      width: 60px;
      height: 4px;
      background: var(--secondary);
      margin: 0.5rem auto 0;
    }
    .demo-group {
      display: flex;
      gap: 2rem;
      margin-bottom: 4rem;
    }
    .demo-group > .controls { flex: 1; }
    .demo-group > .preview { flex: 2; padding: 0 1rem; }
    .controls {
      background: var(--light-bg);
      padding: 1rem;
      border-radius: 6px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      font-size: 0.9rem;
    }
    .controls label { display: block; margin: 0.5rem 0 0.25rem; font-weight: 600; }
    .controls input[type=range], .controls select { width: 100%; margin-bottom: 0.75rem; }

    /* Multicolumn Preview */
    .multicol {
      column-count: 3;
      column-wrap: wrap;
      column-gap: 30px;
      column-rule-width: 2px;
      column-rule-style: solid;
      column-rule-color: #555;
      column-rule-outset: 0px;
      row-rule-width: 2px;
      row-rule-style: dashed;
      row-rule-color: #888;
      row-rule-outset: 0%;
      gap-rule-paint-order: column-over-row;
    }
    .multicol h3 {
      font-size: 1.25rem;
      margin-bottom: 0.75em;
      color: var(--secondary);
    }
    .multicol p { margin: 0 0 1.2em; }
    .multicol blockquote {
      margin: 1em 0;
      padding: 0.75em 1em;
      border-left: 4px solid var(--accent);
      background: #f9f9f9;
      font-style: italic;
    }
    .multicol ul { margin: 0 0 1.2em; padding-left: 1.2em; }

    /* Flex Preview */
    .flex-container {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      row-rule-width: 4px;
      row-rule-style: dotted;
      row-rule-color: var(--flex-row-rule-color);
      row-rule-outset: 0%;
      column-rule-width: 4px;
      column-rule-style: dotted;
      column-rule-color: var(--flex-col-rule-color);
      column-rule-outset: 0px;
      gap-rule-paint-order: row-over-column;
    }
    .flex-item {
      background: var(--card-bg);
      padding: 1.5rem;
      border-radius: 6px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      text-align: center;
      font-weight: 600;
    }
    .flex-item:hover { transform: translateY(-5px); box-shadow: 0 6px 16px rgba(0,0,0,0.15); }
    .flex-item.wide { flex: 2 1 calc(60% - 20px); }
    .flex-item.medium { flex: 1 1 calc(30% - 20px); }

    /* Grid Preview */
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 30px;
      row-rule-width: 3px;
      row-rule-style: solid;
      row-rule-color: var(--accent);
      row-rule-outset: 0%;
      column-rule-width: 3px;
      column-rule-style: solid;
      column-rule-color: var(--grid-rule-color);
      column-rule-outset: 0px;
      gap-rule-paint-order: row-over-column;
    }
    .grid-item {
      background: var(--card-bg);
      padding: 1.5rem;
      border-radius: 6px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      text-align: center;
      font-weight: 600;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .grid-item:hover { transform: translateY(-5px); box-shadow: 0 6px 16px rgba(0,0,0,0.15); }
    .grid-item.spanner { grid-column: span 2; grid-row: span 2; }

    footer { text-align: center; padding: 1rem; font-size: 0.9rem; color: #777; }
  </style>
</head>
<body>
  <header>
    <h1>CSS Gap Decorations Demo</h1>
  </header>
  <div class="intro">
    <p>This interactive demo showcases the features of the <a href="https://drafts.csswg.org/css-gaps-1/" target="_blank">
      CSS Gaps Decorations Module Level 1</a>.
      Use the controls to tweak gap, rule, and paint-order properties in real time
      and see how they affect multicolumn, flex, and grid layouts.
    </p>
    <p>
       This is a non-exhaustive demo. See the spec for full details on the properties and their values.
    </p>
    <p>
      As of right now, this is only implemented for Chromium-based browsers, and a flag is needed to enable the feature: --enable-features=CSSGapDecoration
    </p>
    <p><strong>Contacts:</strong><br/>
      Kevin Babbit, <a href="mailto:kbabbitt@microsoft.com">kbabbitt@microsoft.com</a><br/>
      Sam Davis Omekara Jr, <a href="mailto:samomekarajr@microsoft.com">samomekarajr@microsoft.com</a><br/>
      Javier Contreras, <a href="mailto:javiercon@microsoft.com">javiercon@microsoft.com</a><br/>
      Alison Maher, <a href="mailto:almaher@microsoft.com">almaher@microsoft.com</a>
    </p>
  </div>

  <section>
    <h2>Grid Layout</h2>
    <div class="demo-group">
      <aside class="controls" data-target=".grid">
        <label>Gap (px): <output id="grGapVal">30</output></label>
        <input type="range" min="0" max="100" value="30" data-prop="gap" data-unit="px" oninput="grGapVal.value=this.value"/>
        <label>Row-rule-width (px): <output id="grRowRuleWVal">3</output></label>
        <input type="range" min="0" max="20" value="3" data-prop="row-rule-width" data-unit="px" oninput="grRowRuleWVal.value=this.value"/>
        <label>Row-rule-outset (%): <output id="grRowRuleOVal">0</output>%</label>
        <input type="range" min="0" max="100" value="0" data-prop="row-rule-outset" data-unit="%" oninput="grRowRuleOVal.value=this.value"/>
        <label>Row-rule-style:</label>
        <select data-prop="row-rule-style">
          <option value="solid">solid</option>
          <option value="dashed">dashed</option>
          <option value="dotted">dotted</option>
        </select>
        <label>Row-rule-color:</label>
        <input type="color" class="color-picker" data-prop="row-rule-color" value="#888888" />
        <label>Row-rule-break:</label>
        <select data-prop="row-rule-break">
          <option value="none">none</option>
          <option value="intersection">intersection</option>
          <option value="spanning-item">spanning-item</option>
        </select>
        <label>Column-rule-width (px): <output id="grColRuleWVal">3</output></label>
        <input type="range" min="0" max="20" value="3" data-prop="column-rule-width" data-unit="px" oninput="grColRuleWVal.value=this.value"/>
        <label>Column-rule-outset (px): <output id="grColRuleOVal">0</output></label>
        <input type="range" min="-50" max="50" value="0" data-prop="column-rule-outset" data-unit="px" oninput="grColRuleOVal.value=this.value"/>
        <label>Column-rule-style:</label>
        <select data-prop="column-rule-style">
          <option value="solid">solid</option>
          <option value="dashed">dashed</option>
          <option value="dotted">dotted</option>
        </select>
        <label>Column-rule-color:</label>
        <input type="color" class="color-picker" data-prop="column-rule-color" value="#888888" />
        <label>Column-rule-break:</label>
        <select data-prop="column-rule-break">
          <option value="none">none</option>
          <option value="intersection">intersection</option>
          <option value="spanning-item">spanning-item</option>
        </select>
        <label>Gap-rule-paint-order:</label>
        <select data-prop="gap-rule-paint-order">
          <option value="row-over-column">row-over-column</option>
          <option value="column-over-row">column-over-row</option>
        </select>
      </aside>
      <div class="preview grid">
        <div class="grid-item spanner">Spanning Item</div>
        <div class="grid-item">Grid Item 1</div>
        <div class="grid-item">Grid Item 2</div>
        <div class="grid-item">Grid Item 3</div>
        <div class="grid-item">Grid Item 4</div>
        <div class="grid-item">Grid Item 5</div>
        <div class="grid-item spanner">Double-Row Spanner</div>
        <div class="grid-item">Grid Item 6</div>
        <div class="grid-item">Grid Item 7</div>
        <div class="grid-item">Grid Item 8</div>
        <div class="grid-item">Grid Item 9</div>
      </div>
    </div>
  </section>

    <section>
    <h2>Flex Layout</h2>
    <div class="demo-group">
      <aside class="controls" data-target=".flex-container">
        <label>Gap (px): <output id="fxGapVal">20</output></label>
        <input type="range" min="0" max="100" value="20" data-prop="gap" data-unit="px" oninput="fxGapVal.value=this.value"/>
        <label>Row-rule-width (px): <output id="fxRowRuleWVal">4</output></label>
        <input type="range" min="0" max="20" value="4" data-prop="row-rule-width" data-unit="px" oninput="fxRowRuleWVal.value=this.value"/>
        <label>Row-rule-outset (%): <output id="fxRowRuleOVal">0</output>%</label>
        <input type="range" min="0" max="100" value="0" data-prop="row-rule-outset" data-unit="%" oninput="fxRowRuleOVal.value=this.value"/>
        <label>Row-rule-style:</label>
        <select data-prop="row-rule-style">
          <option value="solid">solid</option>
          <option value="dashed">dashed</option>
          <option value="dotted">dotted</option>
        </select>
        <label>Row-rule-color:</label>
        <input type="color" class="color-picker" data-prop="row-rule-color" value="#888888" />
        <label>Column-rule-width (px): <output id="fxColRuleWVal">4</output></label>
        <input type="range" min="0" max="20" value="4" data-prop="column-rule-width" data-unit="px" oninput="fxColRuleWVal.value=this.value"/>
        <label>Column-rule-outset (px): <output id="fxColRuleOVal">0</output></label>
        <input type="range" min="-50" max="50" value="0" data-prop="column-rule-outset" data-unit="px" oninput="fxColRuleOVal.value=this.value"/>
        <label>Column-rule-style:</label>
        <select data-prop="column-rule-style">
          <option value="solid">solid</option>
          <option value="dashed">dashed</option>
          <option value="dotted">dotted</option>
        </select>
        <label>Column-rule-color:</label>
        <input type="color" class="color-picker" data-prop="column-rule-color" value="#888888" />
        <label>Row-rule-break:</label>
        <select data-prop="row-rule-break">
          <option value="none">none</option>
          <option value="intersection">intersection</option>
          <option value="spanning-item">spanning-item</option>
        </select>
        <label>Column-rule-break:</label>
        <select data-prop="column-rule-break">
          <option value="none">none</option>
          <option value="intersection">intersection</option>
          <option value="spanning-item">spanning-item</option>
        </select>
        <label>Gap-rule-paint-order:</label>
        <select data-prop="gap-rule-paint-order">
          <option value="row-over-column">row-over-column</option>
          <option value="column-over-row">column-over-row</option>
        </select>
      </aside>
      <div class="preview flex-container">
        <div class="flex-item wide">Wide Flex Item</div>
        <div class="flex-item">Flex Item A</div>
        <div class="flex-item medium">Medium Flex Item</div>
        <div class="flex-item">Flex Item B</div>
        <div class="flex-item">Flex Item C</div>
        <div class="flex-item">Flex Item D</div>
      </div>
    </div>
  </section>

  <section>
    <h2>Multicolumn Layout</h2>
    <div class="demo-group">
      <aside class="controls">
        <label>Column-gap (px): <output id="mcColGapVal">30</output></label>
        <input type="range" min="0" max="100" value="30" data-prop="column-gap" data-unit="px" oninput="mcColGapVal.value=this.value" />
        <label>Column-rule-width (px): <output id="mcColRuleWVal">2</output></label>
        <input type="range" min="0" max="20" value="2" data-prop="column-rule-width" data-unit="px" oninput="mcColRuleWVal.value=this.value" />
        <label>Column-rule-outset (px): <output id="mcColRuleOVal">0</output></label>
        <input type="range" min="-50" max="50" value="0" data-prop="column-rule-outset" data-unit="px" oninput="mcColRuleOVal.value=this.value"/>
        <label>Column-rule-style:</label>
        <select data-prop="column-rule-style">
          <option value="solid">solid</option>
          <option value="dashed">dashed</option>
          <option value="dotted">dotted</option>
        </select>
        <label>Column-rule-color:</label>
        <input type="color" class="color-picker" data-prop="column-rule-color" value="#888888" />
        <label>Column-rule-break:</label>
        <select data-prop="column-rule-break">
          <option value="none">none</option>
          <option value="intersection">intersection</option>
          <option value="spanning-item">spanning-item</option>
        </select>
        <label>Row-rule-width (px): <output id="mcRowRuleWVal">2</output></label>
        <input type="range" min="0" max="20" value="2" data-prop="row-rule-width" data-unit="px" oninput="mcRowRuleWVal.value=this.value" />
        <label>Row-rule-outset (%): <output id="mcRowRuleOVal">0</output>%</label>
        <input type="range" min="0" max="100" value="0" data-prop="row-rule-outset" data-unit="%" oninput="mcRowRuleOVal.value=this.value"/>
        <label>Row-rule-style:</label>
        <select data-prop="row-rule-style">
          <option value="solid">solid</option>
          <option value="dashed">dashed</option>
          <option value="dotted">dotted</option>
        </select>
        <label>Row-rule-color:</label>
        <input type="color" class="color-picker" data-prop="row-rule-color" value="#888888" />
        <label>Row-rule-style:</label>
        <select data-prop="row-rule-style">
          <option value="solid">solid</option>
          <option value="dashed">dashed</option>
          <option value="dotted">dotted</option>
        </select>
        <label>Row-rule-color:</label>
        <input type="color" class="color-picker" data-prop="row-rule-color" value="#888888" />
        <label>Row-rule-break:</label>
        <select data-prop="row-rule-break">
          <option value="none">none</option>
          <option value="intersection">intersection</option>
          <option value="spanning-item">spanning-item</option>
        </select>
        <label>Gap-rule-paint-order:</label>
        <select data-prop="gap-rule-paint-order">
          <option value="column-over-row">column-over-row</option>
          <option value="row-over-column">row-over-column</option>
        </select>
      </aside>
      <div class="preview multicol">
        <h3>Exploring Gap Decorations</h3>
        <p>Gap decorations provide a flexible way to visually separate content without extra markup. Columns adapt dynamically to viewport size, maintaining readability.</p>
        <p>Use <strong>column-rule</strong> properties to style separators, control their outset, and define how they interact with multi-column spans.</p>
        <blockquote>“Effective gap decorations enhance layout clarity while preserving semantic structure.”</blockquote>
        <ul>
          <li>Adjust <em>column-gap</em> for spacing.</li>
          <li>Tweak <em>column-rule-width</em> and <em>column-rule-outset</em>.</li>
          <li>Control break behavior with <em>row-rule-break</em> and <em>column-rule-break</em>.</li>
        </ul>
        <p>Combine with <code>gap-rule-paint-order</code> to layer rules in complex layouts.</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque nec est at dolor scelerisque elementum.</p>
        <p>Mauris posuere, libero non suscipit consectetur, odio tortor vulputate mi, vitae consequat justo arcu non ex.</p>
        <p>Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Integer a pulvinar erat.</p>
        <p>Fusce vehicula eros a lectus tincidunt, sit amet venenatis lorem ultrices.</p>
      </div>
    </div>
  </section>


  <footer>Demo of CSS Gap Decorations Module Level 1 • Built by Your Name</footer>

<script>

  // helper to convert “rgb(r, g, b)” → “#rrggbb”
  function rgbToHex(rgb) {
    const [r, g, b] = rgb.match(/\d+/g).map(n => parseInt(n));
    return '#' + [r, g, b].map(v => v.toString(16).padStart(2, '0')).join('');
  }

  document.querySelectorAll('.controls').forEach(panel => {
    const preview = panel.closest('.demo-group').querySelector('.preview');
    
    
    // Initialize each control to match computed style
      panel.querySelectorAll('input[data-prop], select[data-prop]').forEach(control => {
        const prop = control.dataset.prop;
        let computed = getComputedStyle(preview).getPropertyValue(prop).trim();

        if (control.type === 'color') {
          if (computed.startsWith('rgb')) computed = rgbToHex(computed);
          control.value = computed;
        } else if (control.tagName.toLowerCase() === 'select') {
          control.value = computed;
        } else if (control.type === 'range') {
          const num = parseFloat(computed);
          control.value = isNaN(num) ? control.value : num;
          // update corresponding output element
          const output = panel.querySelector(`#${control.dataset.prop}Val, output[for='${control.dataset.prop}']`);
          if (output) output.value = control.value;
        }
      });

      // Listen for changes and update preview
      panel.querySelectorAll('input[data-prop], select[data-prop]').forEach(input => {
        input.addEventListener('input', () => {
          const prop = input.dataset.prop;
          const unit = input.dataset.unit || '';
          preview.style.setProperty(prop, input.value + unit);
      });
    });
  });
</script>
</body>
</html>
